{"ast":null,"code":"var _jsxFileName = \"/workspaces/Smart-Inventory-Order-Management-System/frontend/src/components/User/UserRegister.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport \"./UserRegister.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserRegister({\n  onSuccess,\n  onCancel\n}) {\n  _s();\n  const [form, setForm] = useState({\n    name: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    role: \"CUSTOMER\"\n  });\n  const [msg, setMsg] = useState(\"\");\n  const onChange = e => setForm({\n    ...form,\n    [e.target.name]: e.target.value\n  });\n  const onSubmit = async e => {\n    e.preventDefault();\n    setMsg(\"\");\n    try {\n      const res = await fetch(\"/api/users/register\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(form)\n      });\n      if (!res.ok) {\n        let errMsg = `Registration failed: ${res.status} ${res.statusText}`;\n        try {\n          const errJson = await res.json();\n          if (errJson.message) errMsg = errJson.message;else if (errJson.error) errMsg = errJson.error;\n        } catch {\n          // fallback to text\n          const errText = await res.text();\n          if (errText) errMsg = errText;\n        }\n        setMsg(errMsg);\n        return;\n      }\n      setMsg(\"Registration successful!\");\n      setForm({\n        name: \"\",\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        role: \"CUSTOMER\"\n      });\n      if (onSuccess) onSuccess();\n    } catch (err) {\n      setMsg(\"Registration failed: network error.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"user-register-form\",\n    onSubmit: onSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"name\",\n      placeholder: \"Name\",\n      value: form.name,\n      onChange: onChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"username\",\n      placeholder: \"Username\",\n      value: form.username,\n      onChange: onChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"email\",\n      type: \"email\",\n      placeholder: \"Email\",\n      value: form.email,\n      onChange: onChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      name: \"password\",\n      type: \"password\",\n      placeholder: \"Password\",\n      value: form.password,\n      onChange: onChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      name: \"role\",\n      value: form.role,\n      onChange: onChange,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"CUSTOMER\",\n        children: \"Customer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"MANAGER\",\n        children: \"Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"STAFF\",\n        children: \"Staff\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"SUPPLIER\",\n        children: \"Supplier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"ADMIN\",\n        children: \"Admin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: onCancel,\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: msg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(UserRegister, \"e3V9PGAmo5FvGYOyVrCWfBMcCPg=\");\n_c = UserRegister;\nvar _c;\n$RefreshReg$(_c, \"UserRegister\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","UserRegister","onSuccess","onCancel","_s","form","setForm","name","username","email","password","role","msg","setMsg","onChange","e","target","value","onSubmit","preventDefault","res","fetch","method","headers","body","JSON","stringify","ok","errMsg","status","statusText","errJson","json","message","error","errText","text","err","className","children","placeholder","required","fileName","_jsxFileName","lineNumber","columnNumber","type","style","display","gap","onClick","_c","$RefreshReg$"],"sources":["/workspaces/Smart-Inventory-Order-Management-System/frontend/src/components/User/UserRegister.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"./UserRegister.css\";\n\nexport default function UserRegister({ onSuccess, onCancel }) {\n  const [form, setForm] = useState({\n    name: \"\",\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    role: \"CUSTOMER\",\n  });\n  const [msg, setMsg] = useState(\"\");\n\n  const onChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setMsg(\"\");\n    try {\n      const res = await fetch(\"/api/users/register\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(form),\n      });\n\n      if (!res.ok) {\n        let errMsg = `Registration failed: ${res.status} ${res.statusText}`;\n        try {\n          const errJson = await res.json();\n          if (errJson.message) errMsg = errJson.message;\n          else if (errJson.error) errMsg = errJson.error;\n        } catch {\n          // fallback to text\n          const errText = await res.text();\n          if (errText) errMsg = errText;\n        }\n        setMsg(errMsg);\n        return;\n      }\n      setMsg(\"Registration successful!\");\n      setForm({ name: \"\", username: \"\", email: \"\", password: \"\", role: \"CUSTOMER\" });\n      if (onSuccess) onSuccess();\n    } catch (err) {\n      setMsg(\"Registration failed: network error.\");\n    }\n  };\n\n  return (\n    <form className=\"user-register-form\" onSubmit={onSubmit}>\n      {/* <label htmlFor=\"name\">Name</label> */}\n      <input\n        name=\"name\"\n        placeholder=\"Name\"\n        value={form.name}\n        onChange={onChange}\n        required\n      />\n      {/* <label htmlFor=\"username\">Username</label> */}\n      <input\n        name=\"username\"\n        placeholder=\"Username\"\n        value={form.username}\n        onChange={onChange}\n        required\n      />\n      {/* <label htmlFor=\"email\">Email</label> */}\n      <input\n        name=\"email\"\n        type=\"email\"\n        placeholder=\"Email\"\n        value={form.email}\n        onChange={onChange}\n        required\n      />\n      {/* <label htmlFor=\"password\">Password</label> */}\n      <input\n        name=\"password\"\n        type=\"password\"\n        placeholder=\"Password\"\n        value={form.password}\n        onChange={onChange}\n        required\n      />\n      {/* <label htmlFor=\"role\">Role</label> */}\n      <select\n        name=\"role\"\n        value={form.role}\n        onChange={onChange}\n      >\n        <option value=\"CUSTOMER\">Customer</option>\n        <option value=\"MANAGER\">Manager</option>\n        <option value=\"STAFF\">Staff</option>\n        <option value=\"SUPPLIER\">Supplier</option>\n        <option value=\"ADMIN\">Admin</option>\n      </select>\n      <div style={{ display: \"flex\", gap: 8 }}>\n        <button type=\"submit\">Register</button>\n        <button type=\"button\" onClick={onCancel}>Cancel</button>\n      </div>\n      <div>{msg}</div>\n    </form>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}